<!-- Modal Add Book -->
<div th:fragment="addBookModal" class="modal fade" id="addBookModal" tabindex="-1" data-bs-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-gradient-primary text-white">
                <h5 class="modal-title">
                    <i class="bi bi-plus-circle me-2"></i>
                    Add New Book
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            
            <form th:action="@{/books/add}" method="post" th:object="${bookForm}" id="addBookForm">
                <div class="modal-body">
                    <!-- Title -->
                    <div class="mb-3">
                        <label for="addBookTitle" class="form-label fw-semibold">
                            <i class="bi bi-fonts me-1"></i>
                            Title <span class="text-danger">*</span>
                        </label>
                        <input id="addBookTitle" type="text" class="form-control" 
                               th:field="*{title}" required maxlength="255"
                               placeholder="Enter book title">
                        <div class="invalid-feedback">
                            Please provide a book title.
                        </div>
                        <div class="text-danger" th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></div>
                    </div>

                    <!-- Author -->
                    <div class="mb-3">
                        <label for="addBookAuthor" class="form-label fw-semibold">
                            <i class="bi bi-person me-1"></i>
                            Author <span class="text-danger">*</span>
                        </label>
                        <input id="addBookAuthor" type="text" class="form-control" 
                               th:field="*{author}" required maxlength="255"
                               placeholder="Enter author name">
                        <div class="invalid-feedback">
                            Please provide an author name.
                        </div>
                        <div class="text-danger" th:if="${#fields.hasErrors('author')}" th:errors="*{author}"></div>
                    </div>

                    <!-- ISBN -->
                    <div class="mb-3">
                        <label for="addBookIsbn" class="form-label fw-semibold">
                            <i class="bi bi-upc-scan me-1"></i>
                            ISBN <span class="text-danger">*</span>
                        </label>
                        <input id="addBookIsbn" type="text" class="form-control" 
                               th:field="*{isbn}" required maxlength="20"
                               placeholder="978-xxx-xxxx-xx-x">
                        <div class="invalid-feedback">
                            Please provide a valid ISBN.
                        </div>
                        <div class="text-danger" th:if="${#fields.hasErrors('isbn')}" th:errors="*{isbn}"></div>
                    </div>

                    <!-- Category -->
                    <div class="mb-3">
                        <label for="addBookCategory" class="form-label fw-semibold">
                            <i class="bi bi-tag me-1"></i>
                            Category <span class="text-danger">*</span>
                        </label>
                        <select id="addBookCategory" class="form-select" th:field="*{category}" required>
                            <option value="">Select category...</option>
                            <option value="Fiction">Fiction</option>
                            <option value="Non-Fiction">Non-Fiction</option>
                            <option value="Science">Science</option>
                            <option value="Technology">Technology</option>
                            <option value="History">History</option>
                            <option value="Biography">Biography</option>
                            <option value="Education">Education</option>
                            <option value="Children">Children</option>
                            <option value="Comics">Comics</option>
                            <option value="Religion">Religion</option>
                            <option value="Art">Art</option>
                            <option value="Other">Other</option>
                        </select>
                        <div class="invalid-feedback">
                            Please select a category.
                        </div>
                        <div class="text-danger" th:if="${#fields.hasErrors('category')}" th:errors="*{category}"></div>
                    </div>

                    <!-- Stock -->
                    <div class="mb-3">
                        <label for="addBookStock" class="form-label fw-semibold">
                            <i class="bi bi-box-seam me-1"></i>
                            Stock <span class="text-danger">*</span>
                        </label>
                        <input id="addBookStock" type="number" class="form-control" 
                               th:field="*{stock}" required min="1" max="9999"
                               placeholder="Enter stock quantity">
                        <div class="invalid-feedback">
                            Stock must be at least 1.
                        </div>
                        <div class="text-danger" th:if="${#fields.hasErrors('stock')}" th:errors="*{stock}"></div>
                    </div>

                    <!-- Publisher -->
                    <div class="mb-3">
                        <label for="addBookPublisher" class="form-label fw-semibold">
                            <i class="bi bi-building me-1"></i>
                            Publisher
                        </label>
                        <input id="addBookPublisher" type="text" class="form-control" 
                               th:field="*{publisher}" maxlength="255"
                               placeholder="Enter publisher name (optional)">
                        <div class="text-danger" th:if="${#fields.hasErrors('publisher')}" th:errors="*{publisher}"></div>
                    </div>

                    <!-- Publication Year -->
                    <div class="mb-3">
                        <label for="addBookPublicationYear" class="form-label fw-semibold">
                            <i class="bi bi-calendar me-1"></i>
                            Publication Year
                        </label>
                        <input id="addBookPublicationYear" type="number" class="form-control" 
                               th:field="*{publicationYear}"
                               min="1000" max="2100"
                               placeholder="YYYY (optional)">
                        <div class="text-danger" th:if="${#fields.hasErrors('publicationYear')}" th:errors="*{publicationYear}"></div>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="bi bi-x-lg me-2"></i>
                        Cancel
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="bi bi-save me-2"></i>
                        Save Book
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>